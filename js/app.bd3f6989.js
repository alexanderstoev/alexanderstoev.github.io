(function(t){function e(e){for(var i,c,r=e[0],a=e[1],u=e[2],d=0,h=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&h.push(s[c][0]),s[c]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var a=n[r];0!==s[a]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},s={app:0},o=[];function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=a;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e6e":function(t,e,n){"use strict";n("a869")},"0f78":function(t,e,n){"use strict";n("6353")},"33b8":function(t,e,n){},"44d0":function(t,e,n){},"46a0":function(t,e,n){"use strict";n("d4ee")},"4ed7":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=n("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("Sudoku")]),n("Grid",{ref:"Grid"}),n("div",{staticClass:"input-methods"},[n("button",{class:t.inputMethod==t.constants.INPUT_METHODS.CORNER?"selected":"",on:{click:function(e){return t.setInputMethodAction(t.constants.INPUT_METHODS.CORNER)}}},[t._v(" Corner ")]),n("br"),n("button",{class:t.inputMethod==t.constants.INPUT_METHODS.CENTER?"selected":"",on:{click:function(e){return t.setInputMethodAction(t.constants.INPUT_METHODS.CENTER)}}},[t._v(" Center ")]),n("br"),n("button",{class:t.inputMethod==t.constants.INPUT_METHODS.VALUE?"selected":"",on:{click:function(e){return t.setInputMethodAction(t.constants.INPUT_METHODS.VALUE)}}},[t._v(" Value ")])]),n("Controls"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.backgroundShown,expression:"backgroundShown"}],staticClass:"background",on:{click:function(e){return t.hideBackgroundAction()}}}),n("div",{attrs:{id:"footer"}},[t._v(" Source and Issues: "),n("a",{attrs:{href:"https://github.com/alexanderstoev/sudoku",target:"_blank"}},[t._v("GitHub Repo")]),t._v(" v"+t._s(t.appVersion)+" ")])],1)},c=[],r=n("5530"),a=(n("159b"),"corner"),u="center",l="value",d={CORNER:a,CENTER:u,VALUE:l},h=l,f="sudoku-store",g="sudoku-version",p="left",m="right",v="up",b="down",S={VERSION:"0.4.0"};S["INPUT_METHODS"]=d,S["DEFAULT_INPUT_METHOD"]=h,S["LOCAL_STORAGE_KEY"]=f,S["LOCAL_STORAGE_VERSION_KEY"]=g,S["DIRECTION_LEFT"]=p,S["DIRECTION_RIGHT"]=m,S["DIRECTION_UP"]=v,S["DIRECTION_DOWN"]=b;var O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.ROW_SIZE*t.COL_SIZE,(function(e){return n("Cell",{key:e,attrs:{value:t.current.charAt(e-1),index:e,initialValue:t.initial.charAt(e-1)}})})),1)},I=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.classValue,on:{mousedown:function(e){return t.handleClick(t.index,e)},mouseenter:function(e){return t.handleDrag(t.index,e)}}},[t._v(" "+t._s("."==t.value?"":t.value)+" "),n("CornerClues",{directives:[{name:"show",rawName:"v-show",value:"."==t.value,expression:"value == '.'"}],ref:"CornerClues"}),n("CenterClues",{directives:[{name:"show",rawName:"v-show",value:"."==t.value,expression:"value == '.'"}],ref:"CenterClues"})],1)},C=[],w=(n("a9e3"),n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cornerlclues"},t._l(t.clues,(function(e){return n("span",{key:e},[t._v(t._s(e))])})),0)}),x=[],A={name:"CornerClues",computed:{clues:function(){var t=this.$store.getters["clues/getCluesOfType"](this.$parent.index,"corner");return t}}},k=A,y=(n("b7a6"),n("2877")),E=Object(y["a"])(k,w,x,!1,null,"5adfdc6c",null),j=E.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"centerclues"},[n("div",{staticClass:"holder"},[t._v(" "+t._s(t.val)+" ")])])},R=[],N=(n("a15b"),{components:{},name:"CenterClues",computed:{val:function(){return this.clues.join("")},clues:function(){var t=this.$store.getters["clues/getCluesOfType"](this.$parent.index,"center");return t}}}),D=N,T=(n("cf65"),Object(y["a"])(D,M,R,!1,null,"1ec9c65d",null)),B=T.exports,G={name:"Cell",components:{CornerClues:j,CenterClues:B},props:{index:Number,value:String,initialValue:String},methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])("root",["setMousedownAction","setAddingSelectionAction","setSelectedIndexesAction","updateSelectedIndexesAction"])),{},{handleClick:function(t,e){return this.setMousedownAction(!0),e.ctrlKey?-1!==this.selectedIndexes.indexOf(t)?(this.setAddingSelectionAction(!1),void this.updateSelectedIndexesAction(t)):(this.setAddingSelectionAction(!0),void this.updateSelectedIndexesAction(t)):(this.setAddingSelectionAction(!0),void this.setSelectedIndexesAction(t))},handleDrag:function(t){this.mousedown&&this.updateSelectedIndexesAction(t)}}),computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["c"])("highlight",["selectedDigitIndexes","selectedRowIndexes","selectedColumnIndexes","selectedBoxIndexes"])),Object(s["c"])("settings",["hlRCB","hlDigits"])),Object(s["c"])("root",["mousedown","selectedIndexes","activeIndex"])),{},{classValue:function(){var t="cell ";return this.selectedIndexes&&this.activeIndex==this.index&&(t+="active "),this.selectedIndexes&&this.selectedIndexes.includes(this.index)&&(t+="selected "),this.hlDigits&&this.selectedDigitIndexes&&this.selectedDigitIndexes.includes(this.index)&&(t+="sameDigit "),this.hlRCB&&this.selectedRowIndexes.includes(this.index)&&(t+="sameRow "),this.hlRCB&&this.selectedColumnIndexes.includes(this.index)&&(t+="sameColumn "),this.hlRCB&&this.selectedBoxIndexes.includes(this.index)&&(t+="sameBox "),"."==this.initialValue&&(t+="customDigit "),t}})},H=G,P=(n("ece9"),Object(y["a"])(H,_,C,!1,null,"6c5fbd1a",null)),L=P.exports,$={components:{Cell:L},name:"Grid",props:{msg:String},computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])("root",["ROW_SIZE","COL_SIZE"])),Object(s["c"])("sudokuStrings",["current","initial"]))},U=$,V=(n("0e6e"),Object(y["a"])(U,O,I,!1,null,"8739800e",null)),Z=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[n("button",{staticClass:"icon",on:{click:function(e){return t.checkSudoku()}}},[n("span",{staticClass:"material-icons"},[t._v(" done ")])]),n("br"),n("button",{staticClass:"icon",on:{click:function(e){return t.resetGame()}}},[n("span",{staticClass:"material-icons"},[t._v(" sync ")])]),n("br"),n("button",{staticClass:"icon",on:{click:function(e){return t.toggleNewGame()}}},[n("span",{staticClass:"material-icons"},[t._v(" fiber_new ")])]),n("br"),n("button",{staticClass:"icon",class:t.inputShown?"selected":"",on:{click:function(e){return t.toggleInput()}}},[n("span",{staticClass:"material-icons"},[t._v(" keyboard ")])]),n("br"),n("button",{staticClass:"icon",class:t.settingsShown?"selected":"",on:{click:function(e){return t.toggleSettings()}}},[n("span",{staticClass:"material-icons"},[t._v(" settings ")])]),n("br"),n("button",{staticClass:"icon",class:t.helpShown?"selected":"",on:{click:function(e){return t.toggleHelp()}}},[n("span",{staticClass:"material-icons"},[t._v(" help_outline ")])]),n("br"),n("button",{staticClass:"icon",on:{click:function(e){return t.undo()}}},[n("span",{staticClass:"material-icons"},[t._v(" undo ")])]),n("br"),n("button",{staticClass:"icon",on:{click:function(e){return t.redo()}}},[n("span",{staticClass:"material-icons"},[t._v(" redo ")])]),n("br"),n("NewGame",{directives:[{name:"show",rawName:"v-show",value:t.newGameShown,expression:"newGameShown"}],on:{close:function(e){t.newGameShown=!1}}}),n("Settings",{directives:[{name:"show",rawName:"v-show",value:t.settingsShown,expression:"settingsShown"}],on:{close:function(e){t.settingsShown=!1}}}),n("Help",{directives:[{name:"show",rawName:"v-show",value:t.helpShown,expression:"helpShown"}],on:{close:function(e){t.helpShown=!1},inputString:function(e){return t.toggleInput()}}}),n("InputString",{directives:[{name:"show",rawName:"v-show",value:t.inputShown,expression:"inputShown"}],on:{close:function(e){t.inputShown=!1}}})],1)},K=[];function W(t,e,n){return e>t.length-1?t:t.substring(0,e)+n+t.substring(e+1)}var Y=n("3835"),F=n("b85c"),X=n("d4ec"),q=n("bee2"),z=(n("d81d"),n("1276"),n("ac1f"),n("a434"),n("d3b7"),n("ddb0"),n("99af"),n("4de4"),n("fb6a"),function(){function t(e,n){var i=this;return Object(X["a"])(this,t),this.hints=e,this.limit=n||1e4,this._logs={raw:[],incidents:{limitExceeded:0,notValid:0,noNumbers:0}},this.success=null,this.numbers=function(){return new Array(9).join(" ").split(" ").map((function(t,e){return e+1}))},this.randomRow=function(){var t=[],e=i.numbers();while(t.length<9){var n=Math.floor(Math.random()*e.length);t.push(e[n]),e.splice(n,1)}return t},this.result=new Array(81).join(" ").split(" ").map((function(t){return null})),this.map=new Array(81).join(" ").split(" ").map((function(t){return i.randomRow()})),this.stack=[],this}return Object(q["a"])(t,[{key:"toRows",value:function(t){var e,n=0,i=new Array(9).join(" ").split(" ").map((function(t){return[]})),s=Object(F["a"])(t.entries());try{for(s.s();!(e=s.n()).done;){var o=Object(Y["a"])(e.value,2),c=o[0],r=o[1];i[n].push(r),(c+1)%9||(n+=1)}}catch(a){s.e(a)}finally{s.f()}return i}},{key:"no",value:function(t,e,n){var i=t[t.length-1];this._logs.raw.push("no: @".concat(e," [").concat(i,"] ").concat(n," ").concat(t," "))}},{key:"yes",value:function(t,e){this._logs.raw.push("yes: ".concat(e," ").concat(t))}},{key:"finalLog",value:function(){console.groupCollapsed("Raw Logs"),console.groupCollapsed(this._logs.raw),console.groupEnd(),console.groupEnd(),console.groupCollapsed("Incidents"),console.groupCollapsed(this._logs.incidents),console.groupEnd(),console.groupEnd()}},{key:"getBoard",value:function(){return this.substractCells()}},{key:"getSolution",value:function(){return this.toRows(this.result)}},{key:"substractCells",value:function(){var t=function t(){var n=Math.floor(Math.random()*e.length);return e[n]?n:t()},e=this.result.filter((function(){return!0}));while(e.length-this.hints>e.filter((function(t){return!t})).length)e[t()]="";return e}},{key:"validate",value:function(t,e,n){var i=Math.floor(n/9),s=n%9,o=t.slice(9*i,9*(i+1)),c=t.filter((function(t,e){return e%9===s})),r=Math.floor(i/3),a=Math.floor(s/3),u=t.filter((function(t,e){return Math.floor(Math.floor(e/9)/3)===r&&Math.floor(e%9/3)===a}));return{row:{first:o.indexOf(e),last:o.lastIndexOf(e)},col:{first:c.indexOf(e),last:c.lastIndexOf(e)},box:{first:u.indexOf(e),last:u.lastIndexOf(e)}}}},{key:"_validate",value:function(t,e){if(!t[e].length)return!1;this.stack.splice(e,this.stack.length);var n=t[e],i=n[n.length-1],s=this.validate(this.stack,i,e);return-1===s.col.first&&-1===s.row.first&&-1===s.box.first}},{key:"_generate",value:function(t,e){if(81===e)return!0;if(--this.limit<0)return this._logs.incidents.limitExceeded++,this.no(t[e],e,"limit exceeded"),!1;var n=t[e];if(!n.length)return t[e]=this.numbers(),t[e-1].pop(),this._logs.incidents.noNumbers++,this.no(n,e,"no numbers in it"),!1;var i=n[n.length-1],s=this._validate(t,e);if(!s)return t[e].pop(),t[e+1]=this.numbers(),this._logs.incidents.notValid++,this.no(n,e,"is not valid"),!1;this.stack.push(i);var o,c=Object(F["a"])(n.entries());try{for(c.s();!(o=c.n()).done;){o.value;if(this._generate(t,e+1))return this.result[e]=i,this.yes(n,e),!0}}catch(r){c.e(r)}finally{c.f()}return!1}},{key:"generate",value:function(){return this._generate(this.map,0)&&(this.success=!0),this}}]),t}()),Q={getRow:function(t,e){return Math.ceil(t/e)},getColumn:function(t,e){return t%e||e},getBox:function(t,e,n){var i=e/n,s=this.getBoxRow(t,e,n),o=this.getBoxCol(t,e,n);return(s-1)*i+o},getBoxRow:function(t,e,n){return Math.ceil(this.getRow(t,e)/n)},getBoxCol:function(t,e,n){return Math.ceil(this.getColumn(t,e)/n)},getRowIndexes:function(t,e){for(var n=this.getRow(t,e),i=[],s=0;s<e;s++)i.push((n-1)*e+s+1);return i},getColIndexes:function(t,e,n){for(var i=this.getColumn(t,e),s=[],o=0;o<n;o++)s.push(i+o*e);return s},getBoxIndexes:function(t,e,n){for(var i=[],s=this.getBoxRow(t,e,n),o=this.getBoxCol(t,e,n),c=(s-1)*n*e+(o-1)*n+1,r=0;r<n;r++)for(var a=0;a<n;a++)i.push(c+r+a*e);return i},getSameDigitIndexes:function(t,e){if("."===e[t-1])return[];for(var n=[],i=1;i<=e.length;i++)e[i-1]===e[t-1]&&n.push(i);return n},getNextIndex:function(t,e,n,i){switch(e){case S.DIRECTION_LEFT:t%n==1&&(t+=n),t--;break;case S.DIRECTION_RIGHT:t%n==0&&(t-=n),t++;break;case S.DIRECTION_UP:t-=n,this.getRow(t,n)<1&&(t+=n*i);break;case S.DIRECTION_DOWN:t+=n,this.getRow(t,n)>i&&(t%=n);break}return t},validateSudokuString:function(t){for(var e,n,i,s,o=[],c=[],r=[],a=0;a<t.length;a++)e=(a+9)%9,n=Math.floor(a/9),i=Math.floor(a/3)%3+3*Math.floor(a/27),o[n]=o[n]||[],c[e]=c[e]||[],r[i]=r[i]||[],s=t.charAt(a),o[n][e]=s,c[e][n]=s,r[i].push(s);var u=!0;function l(t){"123456789"!=t.sort().join("")&&(u=!1)}return o.forEach(l),c.forEach(l),r.forEach(l),u}},tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("p",[t._v("Settings are automatically saved.")]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.difficulty,expression:"difficulty"}],attrs:{type:"radio",id:"easy",value:"45"},domProps:{checked:t._q(t.difficulty,"45")},on:{change:function(e){t.difficulty="45"}}}),n("label",{attrs:{for:"easy"}},[t._v("Easy")])]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.difficulty,expression:"difficulty"}],attrs:{type:"radio",id:"normal",value:"35"},domProps:{checked:t._q(t.difficulty,"35")},on:{change:function(e){t.difficulty="35"}}}),n("label",{attrs:{for:"normal"}},[t._v("Normal")])]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.difficulty,expression:"difficulty"}],attrs:{type:"radio",id:"hard",value:"28"},domProps:{checked:t._q(t.difficulty,"28")},on:{change:function(e){t.difficulty="28"}}}),n("label",{attrs:{for:"hard"}},[t._v("Hard")])]),n("p",[n("button",{staticClass:"primary",on:{click:function(e){return t.newGame()}}},[t._v("Generate")]),n("button",{on:{click:function(e){return t.close()}}},[t._v("Cancel")])])])},et=[],nt={name:"NewGame",data:function(){return{difficulty:1}},computed:{},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["b"])("root",["hideBackgroundAction"])),Object(s["b"])("sudokuStrings",["newGridAction","setInitialAction"])),Object(s["b"])("clues",["clearAllClues"])),Object(s["b"])("highlight",["updateIndexes"])),{},{close:function(){this.hideBackgroundAction(),this.$emit("close")},newGame:function(){var t=new z(35).generate().getBoard();t=t.map((function(t){return""===t?".":t})),this.newGridAction(),this.clearAllClues(),this.setInitialAction(t.join("")),this.updateIndexes(),this.close()}})},it=nt,st=(n("0f78"),Object(y["a"])(it,tt,et,!1,null,"45b9798b",null)),ot=st.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("p",[t._v("Settings are automatically saved.")]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.hlRCB,expression:"hlRCB"}],attrs:{type:"checkbox",id:"highlightRCB"},domProps:{checked:Array.isArray(t.hlRCB)?t._i(t.hlRCB,null)>-1:t.hlRCB},on:{change:function(e){var n=t.hlRCB,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=null,c=t._i(n,o);i.checked?c<0&&(t.hlRCB=n.concat([o])):c>-1&&(t.hlRCB=n.slice(0,c).concat(n.slice(c+1)))}else t.hlRCB=s}}}),n("label",{attrs:{for:"highlightRCB"}},[t._v("Auto highlight row, column and box")])]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.hlDigits,expression:"hlDigits"}],attrs:{type:"checkbox",id:"highlightDigits"},domProps:{checked:Array.isArray(t.hlDigits)?t._i(t.hlDigits,null)>-1:t.hlDigits},on:{change:function(e){var n=t.hlDigits,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=null,c=t._i(n,o);i.checked?c<0&&(t.hlDigits=n.concat([o])):c>-1&&(t.hlDigits=n.slice(0,c).concat(n.slice(c+1)))}else t.hlDigits=s}}}),n("label",{attrs:{for:"highlightDigits"}},[t._v("Auto highlight same digits")])]),n("p",[n("button",{staticClass:"primary",on:{click:function(e){return t.close()}}},[t._v("Close")])])])},rt=[],at={name:"Settings",data:function(){return{highlightRCB:!1,highlightDigits:!1}},computed:{hlRCB:{get:function(){return this.$store.state.settings.hlRCB},set:function(t){this.setHlRCBAction(t)}},hlDigits:{get:function(){return this.$store.state.settings.hlDigits},set:function(t){this.setHlDigitsAction(t)}}},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["b"])("settings",["setHlRCBAction","setHlDigitsAction"])),Object(s["b"])("root",["hideBackgroundAction"])),{},{close:function(){this.hideBackgroundAction(),this.$emit("close")}})},ut=at,lt=(n("8638"),Object(y["a"])(ut,ct,rt,!1,null,"0eab614a",null)),dt=lt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"help"},[n("h2",[t._v("Conrols:")]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),n("p",[t._v(" To import a custom game click on the "),n("button",{staticClass:"icon small",on:{click:function(e){return t.$emit("inputString")}}},[n("span",{staticClass:"material-icons"},[t._v(" keyboard ")])]),t._v(' The string should be 81 characters log and containing only digits and "." indicating an empty cell. ')]),n("p",[n("button",{staticClass:"primary",on:{click:function(e){return t.close()}}},[t._v("Close")])])])},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Hold "),n("b",[t._v("CTRL")]),t._v(" or "),n("b",[t._v("drag with mouse")]),t._v(" to select multiple cells")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Hold "),n("b",[t._v("CTRL")]),t._v(" and click on selected cell to deselect")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Press "),n("b",[t._v("Space")]),t._v(" to toggle input methods")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" Press "),n("b",[t._v("Backspce")]),t._v(" or "),n("b",[t._v("Delete")]),t._v(" keys to clear based on the selected input method ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" Use "),n("b",[t._v("arrow keys")]),t._v(" to navigate the grid. Hold "),n("b",[t._v("CTRL")]),t._v(" for multi select. ")])}],gt={name:"Help",methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])("root",["hideBackgroundAction"])),{},{close:function(){this.hideBackgroundAction(),this.$emit("close")}})},pt=gt,mt=(n("ea57"),Object(y["a"])(pt,ht,ft,!1,null,null,null)),vt=mt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputString"},[n("p",[t._v("Start a new gamme by entering the sudoku string here.")]),n("p",[n("label",{attrs:{for:"inputString"}},[t._v("Auto highlight row, column and box")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputString,expression:"inputString"}],attrs:{type:"text",id:"inputString"},domProps:{value:t.inputString},on:{input:function(e){e.target.composing||(t.inputString=e.target.value)}}})]),t.showError?n("p",{staticClass:"error"},[t._v(" String must be 81 characters long, containing only 1-9 and '.'! ")]):t._e(),n("p",[n("button",{staticClass:"primary",on:{click:function(e){return t.importString()}}},[t._v("Import")]),n("button",{on:{click:function(e){return t.close()}}},[t._v("Close")])])])},St=[],Ot=(n("4d63"),n("25f0"),{name:"InputString",data:function(){return{inputString:"",showError:!1}},computed:{},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["b"])("sudokuStrings",["importGridAction"])),Object(s["b"])("root",["hideBackgroundAction"])),Object(s["b"])("clues",["clearAllClues"])),{},{importString:function(){var t=new RegExp("[1-9.]{81}");t.test(this.inputString)?(this.importGridAction(this.inputString),this.clearAllClues(),this.close()):this.showError=!0},close:function(){this.showError=!1,this.hideBackgroundAction(),this.$emit("close")}})}),It=Ot,_t=(n("46a0"),Object(y["a"])(It,bt,St,!1,null,"9be12210",null)),Ct=_t.exports,wt={name:"Controls",data:function(){return{settingsShown:!1,helpShown:!1,inputShown:!1,newGameShown:!1}},components:{NewGame:ot,Settings:dt,Help:vt,InputString:Ct},computed:Object(r["a"])({},Object(s["c"])("sudokuStrings",["current"])),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["b"])("sudokuStrings",["resetGridAction"])),Object(s["b"])("root",["showBackgroundAction"])),Object(s["b"])("clues",["clearAllClues"])),Object(s["b"])(["undo","redo"])),{},{checkSudoku:function(){Q.validateSudokuString(this.current)?alert("all good"):alert("there`s a booboo")},hideAll:function(){this.settingsShown=!1,this.helpShown=!1,this.inputShown=!1,this.newGameShown=!1},toggleSettings:function(){this.hideAll(),this.settingsShown=!this.settingsShown,this.showBackgroundAction()},toggleHelp:function(){this.hideAll(),this.helpShown=!this.helpShown,this.showBackgroundAction()},toggleInput:function(){this.hideAll(),this.inputShown=!this.inputShown,this.showBackgroundAction()},toggleNewGame:function(){this.hideAll(),this.newGameShown=!this.newGameShown,this.showBackgroundAction()},resetGame:function(){confirm("Are you sure you want to reset the board?")&&(this.resetGridAction(),this.clearAllClues())}})},xt=wt,At=(n("7272"),Object(y["a"])(xt,J,K,!1,null,null,null)),kt=At.exports,yt={name:"App",components:{Grid:Z,Controls:kt},created:function(){this.constants=S},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["b"])("controls",["setInputMethodAction","toggleInputMethodAction"])),Object(s["b"])("sudokuStrings",["setGuessAction","clearGuessAction"])),Object(s["b"])("clues",["clearCluesAction","toggleClueAction"])),Object(s["b"])("root",["moveCursor"])),Object(s["b"])("root",["hideBackgroundAction","setMousedownAction"])),{},{move:function(t,e){var n=t.ctrlKey;this.moveCursor({direction:e,addToSelection:n}),t.preventDefault()},handleKeyPress:function(t){switch(t.keyCode){case 37:this.move(t,this.constants.DIRECTION_LEFT);break;case 39:this.move(t,this.constants.DIRECTION_RIGHT);break;case 38:this.move(t,this.constants.DIRECTION_UP);break;case 40:this.move(t,this.constants.DIRECTION_DOWN);break;case 32:this.toggleInputMethodAction(),t.preventDefault();break;case 8:case 46:this.handleClearCell(),t.preventDefault();break}if(this.inputMethod!=S.INPUT_METHODS.VALUE||isNaN(parseInt(t.key)))if(isNaN(parseInt(t.key)));else{var e=this.$store.state.root.selectedIndexes,n=t.key,i=this.inputMethod;this.toggleClueAction({selectedCellsIndexes:e,type:i,clue:n})}else{var s=this.$store.state.root.selectedIndexes,o=t.key;this.setGuessAction({indexes:s,digit:o})}},handleClearCell:function(){var t=this,e=this.$store.state.root.selectedIndexes,n=!1;e.forEach((function(e){"."!=t.guesses.charAt(e-1)&&(n=!0)})),n?this.clearGuessAction(e):this.clearCluesAction(e)},handleMouseUp:function(){this.setMousedownAction(!1)}}),computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(s["c"])("controls",["inputMethod"])),Object(s["c"])("root",["backgroundShown"])),Object(s["c"])("sudokuStrings",["guesses"])),{},{appVersion:function(){return S["VERSION"]}}),mounted:function(){var t=this;document.addEventListener("keydown",(function(e){t.$store.state.root.backgroundShown||t.handleKeyPress(e)})),document.addEventListener("mouseup",(function(){t.$store.state.root.backgroundShown||t.handleMouseUp()}))}},Et=yt,jt=(n("5c0b"),Object(y["a"])(Et,o,c,!1,null,null,null)),Mt=jt.exports,Rt=n("53ca"),Nt=n("2909"),Dt=(n("6062"),n("3ca3"),{setBackroundMutation:function(t,e){t.backgroundShown=e},setMousedownMutation:function(t,e){t.mousedown=e},setAddingSelectionMutation:function(t,e){t.addingSelection=e},setSelectedIndexesMutation:function(t,e){t.selectedIndexes=e},setActiveIndexMutation:function(t,e){t.activeIndex=e}}),Tt={showBackgroundAction:function(t){t.commit("setBackroundMutation",!0)},hideBackgroundAction:function(t){t.commit("setBackroundMutation",!1)},setMousedownAction:function(t,e){t.commit("setMousedownMutation",e)},setAddingSelectionAction:function(t,e){t.commit("setAddingSelectionMutation",e)},setSelectedIndexesAction:function(t,e){"number"===typeof e&&(t.dispatch("setActiveIndexAction",e),e=[e]),t.commit("setSelectedIndexesMutation",e)},setActiveIndexAction:function(t,e){t.commit("setActiveIndexMutation",e)},updateSelectedIndexesAction:function(t,e){t.state.mousedown||t.dispatch("setActiveIndexAction",e);var n=Object(Nt["a"])(t.state.selectedIndexes)||[];if(t.state.addingSelection)n.push(e);else{var i=n.indexOf(e);-1!==i&&n.splice(i,1)}n=Object(Nt["a"])(new Set(n)),t.dispatch("setSelectedIndexesAction",n)},moveCursor:function(t,e){var n=e.direction,i=e.addToSelection,s=t.state.activeIndex,o=Q.getNextIndex(s,n,t.state.ROW_SIZE,t.state.COL_SIZE);i?t.dispatch("updateSelectedIndexesAction",o):t.dispatch("setSelectedIndexesAction",o)}},Bt={ROW_SIZE:function(t){return t.ROW_SIZE},COL_SIZE:function(t){return t.COL_SIZE},BOX_SIZE:function(t){return t.BOX_SIZE},backgroundShown:function(t){return t.backgroundShown},mousedown:function(t){return t.mousedown},selectedIndexes:function(t){return t.selectedIndexes},activeIndex:function(t){return t.activeIndex}},Gt={namespaced:!0,state:{ROW_SIZE:9,COL_SIZE:9,BOX_SIZE:3,backgroundShown:!1,mousedown:!1,addingSelection:!0,selectedIndexes:[],activeIndex:0},mutations:Dt,actions:Tt,getters:Bt},Ht=Gt,Pt={setHlRCBMutation:function(t,e){t.hlRCB=e},setHlDigitsMutation:function(t,e){t.hlDigits=e}},Lt={setHlRCBAction:function(t,e){t.commit("setHlRCBMutation",e)},setHlDigitsAction:function(t,e){t.commit("setHlDigitsMutation",e)}},$t={hlRCB:function(t){return t.hlRCB},hlDigits:function(t){return t.hlDigits}},Ut={namespaced:!0,state:{hlRCB:!0,hlDigits:!0},mutations:Pt,actions:Lt,getters:$t},Vt=Ut,Zt=(n("b64b"),n("07ac"),{setInputMethodMutation:function(t,e){t.inputMethod=e}}),Jt={setInputMethodAction:function(t,e){t.commit("setInputMethodMutation",e)},toggleInputMethodAction:function(t){var e="",n="";Object.keys(S.INPUT_METHODS).forEach((function(i){var s=S.INPUT_METHODS[i];e==t.state.inputMethod&&(n=s),e=s})),""==n&&(n=Object.values(S.INPUT_METHODS)[0]),t.commit("setInputMethodMutation",n)}},Kt={inputMethod:function(t){return t.inputMethod}},Wt={namespaced:!0,state:{inputMethod:S.DEFAULT_INPUT_METHOD},mutations:Zt,actions:Jt,getters:Kt},Yt=Wt,Ft=(n("cb29"),{setInitialMutation:function(t,e){t.initial=e},setCurrentMutation:function(t,e){t.current=e},setGeussesMutation:function(t,e){t.guesses=e}}),Xt={setInitialAction:function(t,e){t.commit("setInitialMutation",e),t.commit("setCurrentMutation",e)},setCurrentAction:function(t,e){t.commit("setCurrentMutation",e)},setGeussesAction:function(t,e){t.commit("setGeussesMutation",e)},setGuessAction:function(t,e){var n=e.indexes,i=e.digit,s=void 0===i?".":i,o=t.state.current,c=t.state.guesses;n.forEach((function(e){"."==t.state.initial.charAt(e-1)&&(o=W(o,e-1,s),c=W(c,e-1,s))})),t.dispatch("setCurrentAction",o),t.dispatch("setGeussesAction",c),t.dispatch("highlight/updateIndexes",n,{root:!0})},clearGuessAction:function(t,e){t.dispatch("setGuessAction",{indexes:e})},resetGridAction:function(t){t.dispatch("setCurrentAction",t.state.initial)},newGridAction:function(t){t.dispatch("setInitialAction",new Array(81).fill(".").join(""))},importGridAction:function(t,e){t.dispatch("setInitialAction",e)}},qt={current:function(t){return t.current},initial:function(t){return t.initial},guesses:function(t){return t.guesses}},zt={namespaced:!0,state:{current:new Array(81).fill(".").join(""),initial:new Array(81).fill(".").join(""),guesses:new Array(81).fill(".").join("")},mutations:Ft,actions:Xt,getters:qt},Qt=zt,te=(n("a630"),{toggleClueMutation:function(t,e){var n=e.index,i=e.type,s=e.clue;n--;var o=Object(Nt["a"])(t[i][n]),c=o.indexOf(s);c>-1?o.splice(c,1):o.push(s),o.sort(),t[i].splice(n,1,o)},clearCluesMutation:function(t,e){var n=e.index,i=e.type;n--;var s=[];t[i].splice(n,1,s)}}),ee={toggleClueAction:function(t,e){var n=e.selectedCellsIndexes,i=e.type,s=e.clue;n.forEach((function(e){t.commit("toggleClueMutation",{index:e,type:i,clue:s})}))},clearCluesAction:function(t,e){var n=!1;e.forEach((function(e){var i=Object(Nt["a"])(t.state[S.INPUT_METHODS.CORNER][e-1]);i.length>0&&(n=!0)}));var i=n?S.INPUT_METHODS.CORNER:S.INPUT_METHODS.CENTER;e.forEach((function(e){t.commit("clearCluesMutation",{index:e,type:i})}))},clearAllClues:function(t){t.dispatch("clearCluesAction",Array.from({length:81},(function(t,e){return e+1}))),t.dispatch("clearCluesAction",Array.from({length:81},(function(t,e){return e+1})))}},ne={getCluesOfType:function(t){return function(e,n){return e--,Object(Nt["a"])(t[n][e])}}},ie={namespaced:!0,state:{corner:new Array(81).fill(new Array),center:new Array(81).fill(new Array)},mutations:te,actions:ee,getters:ne},se=ie,oe={namespaced:!0,state:function(){return{selectedDigitIndexes:[],selectedRowIndexes:[],selectedColumnIndexes:[],selectedBoxIndexes:[]}},mutations:{setSelectedDigitIndexesMutation:function(t,e){t.selectedDigitIndexes=e.sort()},setSelectedRowIndexesMutation:function(t,e){t.selectedRowIndexes=e},setSelectedColumnIndexesMutation:function(t,e){t.selectedColumnIndexes=e},setSelectedBoxIndexesMutation:function(t,e){t.selectedBoxIndexes=e}},actions:{updateIndexes:function(t,e){var n=t.rootState.root.ROW_SIZE,i=t.rootState.root.COL_SIZE,s=t.rootState.root.BOX_SIZE,o=t.rootState.sudokuStrings.current;t.commit("setSelectedRowIndexesMutation",Q.getRowIndexes(e,n)),t.commit("setSelectedColumnIndexesMutation",Q.getColIndexes(e,n,i)),t.commit("setSelectedBoxIndexesMutation",Q.getBoxIndexes(e,n,s)),t.commit("setSelectedDigitIndexesMutation",Q.getSameDigitIndexes(e,o))}},getters:{selectedRowIndexes:function(t){return t.selectedRowIndexes},selectedColumnIndexes:function(t){return t.selectedColumnIndexes},selectedBoxIndexes:function(t){return t.selectedBoxIndexes},selectedDigitIndexes:function(t){return t.selectedDigitIndexes}}},ce=oe;i["a"].use(s["a"]);var re=new s["a"].Store({modules:{root:Ht,settings:Vt,controls:Yt,sudokuStrings:Qt,clues:se,highlight:ce},mutations:{initialiseStoreMutation:function(t,e){this.replaceState(Object.assign(t,e))}},actions:{initialiseStoreAction:function(t){var e=JSON.parse(localStorage.getItem(S.LOCAL_STORAGE_KEY)),n=localStorage.getItem(S.LOCAL_STORAGE_VERSION_KEY);if(n!=S.VERSION&&(e=null,localStorage.setItem(S.LOCAL_STORAGE_VERSION_KEY,S.VERSION)),e&&e.sudokuStrings.initial)t.commit("initialiseStoreMutation",e);else{var i=".1..8..7.8...3...9...9.1.....3...6..94.....53..8...9.....5.6...7...1...2.5..2..1.";t.dispatch("sudokuStrings/setInitialAction",i)}},undo:function(t){if(0!==de.length){var e=de.pop();he.push(e);var n=JSON.parse(JSON.stringify(le));t.commit("initialiseStoreMutation",n),ae=!0,de.forEach((function(e){if(-1!==ge.indexOf(e.type))return!1;switch(Object(Rt["a"])(e.payload)){case"object":t.dispatch(e.type,JSON.parse(JSON.stringify(e.payload)));break;default:t.dispatch(e.type,e.payload)}})),ae=!1}},redo:function(t){if(0!==he.length){var e=he.pop();ue=!0,t.dispatch(e.type,e.payload),ue=!1}}}}),ae=!1,ue=!1,le=null,de=[],he=[],fe=["sudokuStrings/setInitialAction","sudokuStrings/setGuessAction","sudokuStrings/clearGuessAction","clues/toggleClueAction","clues/clearCluesAction"],ge=["root/showBackgroundAction"];re.subscribeAction((function(t,e){-1===fe.indexOf(t.type)||ae||(null===le&&(e.root.backgroundShown=!1,le=JSON.parse(JSON.stringify(e))),de.push(t),ue||(he=[]))})),re.subscribe((function(t,e){switch(localStorage.setItem(S.LOCAL_STORAGE_KEY,JSON.stringify(e)),t.type){case"root/setActiveIndexMutation":re.dispatch("highlight/updateIndexes",t.payload);break}})),i["a"].config.productionTip=!1,i["a"].use(s["a"]),new i["a"]({render:function(t){return t(Mt)},store:re,beforeCreate:function(){this.$store.dispatch("initialiseStoreAction")}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6353:function(t,e,n){},7272:function(t,e,n){"use strict";n("44d0")},"821d":function(t,e,n){},8638:function(t,e,n){"use strict";n("f454")},"9c0c":function(t,e,n){},a869:function(t,e,n){},b7a6:function(t,e,n){"use strict";n("da92")},cf65:function(t,e,n){"use strict";n("33b8")},d4ee:function(t,e,n){},da92:function(t,e,n){},ea57:function(t,e,n){"use strict";n("821d")},ece9:function(t,e,n){"use strict";n("4ed7")},f454:function(t,e,n){}});
//# sourceMappingURL=app.bd3f6989.js.map